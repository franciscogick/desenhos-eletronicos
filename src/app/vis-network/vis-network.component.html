<!-- 

 a superfície do rizoma usa a biblioteca vis.js (http://visjs.org/) e o wrapper para angular ngx-vis (https://github.com/visjs/ngx-vis) 

-->
<!--<div id="svg-sumario">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1994.1 575.452">
        <g id="Groupe_16" data-name="Groupe 16" transform="translate(-4563.2 -2223.65)">
          <path id="Tracé_6" data-name="Tracé 6" d="M27.2,0h83.725C185.725,0,241.4-41.65,241.4-139.4S185.725-276.25,106.675-276.25H27.2Zm73.1-58.65V-217.6h2.55c35.275,0,63.75,13.6,63.75,78.2s-28.475,80.75-63.75,80.75ZM290.7,0H482.8V-61.2h-119v-49.3h97.75v-61.2H363.8v-43.35H478.55v-61.2H290.7ZM635.8,5.1c71.4,0,110.5-41.65,110.5-88.4,0-38.25-21.25-62.05-58.225-75.65L656.2-172.125c-27.625-10.2-43.35-14.875-43.35-27.625s11.05-18.7,27.2-18.7c26.35,0,42.075,6.8,62.05,19.975l36.55-45.9c-26.775-25.075-61.625-36.975-94.35-36.975-62.9,0-105.4,38.675-105.4,85.85,0,39.95,26.35,65.025,58.225,76.925l34.425,14.45C657.05-93.5,671.5-90.1,671.5-73.95c0,8.925-8.5,16.15-30.6,16.15-25.075,0-49.725-11.05-70.55-26.775L528.7-34.425C559.725-7.65,599.675,5.1,635.8,5.1ZM800.7,0H992.8V-61.2h-119v-49.3h97.75v-61.2H873.8v-43.35H988.55v-61.2H800.7Zm244.8,0h69.7V-79.9c0-34-6.8-73.95-10.2-105.4h1.7l22.525,61.625L1175.55,0h73.95V-276.25h-69.7v79.9c0,34,6.8,75.65,10.2,105.4h-1.7L1165.775-153,1119.45-276.25H1045.5Zm254.15,0h73.1V-109.65h59.5V0h73.1V-276.25h-73.1V-173.4h-59.5V-276.25h-73.1ZM1657.5,5.1c67.15,0,113.05-48.45,113.05-144.5,0-93.5-45.9-141.95-113.05-141.95S1544.45-232.9,1544.45-139.4C1544.45-43.35,1590.35,5.1,1657.5,5.1Zm0-62.9c-23.8,0-38.25-26.35-38.25-81.6,0-52.7,14.45-79.05,38.25-79.05s38.25,26.35,38.25,79.05C1695.75-84.15,1681.3-57.8,1657.5-57.8ZM1910.8,5.1c71.4,0,110.5-41.65,110.5-88.4,0-38.25-21.25-62.05-58.225-75.65L1931.2-172.125c-27.625-10.2-43.35-14.875-43.35-27.625s11.05-18.7,27.2-18.7c26.35,0,42.075,6.8,62.05,19.975l36.55-45.9c-26.775-25.075-61.625-36.975-94.35-36.975-62.9,0-105.4,38.675-105.4,85.85,0,39.95,26.35,65.025,58.225,76.925l34.425,14.45C1932.05-93.5,1946.5-90.1,1946.5-73.95c0,8.925-8.5,16.15-30.6,16.15-25.075,0-49.725-11.05-70.55-26.775l-41.65,50.15C1834.725-7.65,1874.675,5.1,1910.8,5.1Z" transform="translate(4536 2505)" fill="#fff"/>
          <path id="Tracé_7" data-name="Tracé 7" d="M35.7-98.58H174.373v-44.179h-85.9v-35.589h70.564v-44.179H88.469V-253.82H171.3V-298H35.7Zm187.761,0H361.213v-44.179H276.23V-298H223.461Zm180.4,0H542.531v-44.179h-85.9v-35.589h70.564v-44.179H456.628V-253.82h82.836V-298h-135.6Zm223.963,0H680.59V-253.82h57.371V-298H570.45v44.179h57.371Zm136.219,0h52.769v-66.882H835.83L870.192-98.58H929.1l-43.259-77.313c19.328-10.431,32.214-29.146,32.214-57.678,0-49.7-36.816-64.428-79.768-64.428H764.04Zm52.769-108.607v-49.088H834.6c20.862,0,31.907,5.522,31.907,22.7s-11.045,26.385-31.907,26.385ZM1022.364-94.9c48.474,0,81.608-34.975,81.608-104.311,0-67.5-33.134-102.471-81.608-102.471s-81.608,34.975-81.608,102.471C940.755-129.874,973.89-94.9,1022.364-94.9Zm0-45.406c-17.181,0-27.612-19.021-27.612-58.905,0-38.043,10.431-57.065,27.612-57.065s27.612,19.022,27.612,57.065C1049.976-159.326,1039.545-140.3,1022.364-140.3ZM990.457-307.2l31.293-24.544h1.227l31.293,24.544,22.7-13.5L1051.2-354.45H993.525L967.754-320.7ZM1132.811-98.58h50.315v-57.678c0-24.544-4.909-53.383-7.363-76.086h1.227l16.26,44.486,33.441,89.278h53.383V-298H1229.76v57.678c0,24.544,4.909,54.61,7.363,76.086H1235.9l-16.26-44.793L1186.194-298h-53.383Zm185.92,0h143.582v-44.179h-45.406V-253.82h45.406V-298H1318.731v44.179h45.406v111.061h-45.406ZM1592.4-94.9c27,0,50.315-9.818,66.882-29.453l-28.839-31.907c-8.59,9.2-19.635,15.954-32.521,15.954-27,0-46.02-20.862-46.02-58.292,0-36.2,19.021-57.678,43.565-57.678,13.5,0,23.317,4.909,32.521,12.886l28.839-32.521c-14.113-13.5-35.589-25.771-61.36-25.771-54,0-97.562,38.043-97.562,104.925C1497.9-128.646,1542.694-94.9,1592.4-94.9Zm166.285,0c48.474,0,81.608-34.975,81.608-104.311,0-67.5-33.134-102.471-81.608-102.471s-81.609,34.975-81.609,102.471C1677.072-129.874,1710.206-94.9,1758.68-94.9Zm0-45.406c-17.181,0-27.612-19.021-27.612-58.905,0-38.043,10.431-57.065,27.612-57.065s27.612,19.022,27.612,57.065C1786.292-159.326,1775.861-140.3,1758.68-140.3ZM1941.532-94.9c51.542,0,79.768-30.066,79.768-63.814,0-27.612-15.34-44.793-42.031-54.61l-23.01-9.511c-19.942-7.363-31.293-10.738-31.293-19.942s7.977-13.5,19.635-13.5c19.021,0,30.373,4.909,44.793,14.42l26.385-33.134a100.226,100.226,0,0,0-68.109-26.691c-45.406,0-76.086,27.919-76.086,61.973,0,28.839,19.022,46.94,42.031,55.531l24.851,10.431c18.408,7.67,28.839,10.124,28.839,21.783,0,6.443-6.136,11.658-22.09,11.658-18.1,0-35.9-7.977-50.928-19.328l-30.066,36.2C1886.615-104.1,1915.454-94.9,1941.532-94.9Z" transform="translate(4536 2894)" fill="#fff"/>
        </g>
      </svg>
      
      
</div>
<div id="svg-border">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1995.1 576.452">
        <g id="Groupe_17" data-name="Groupe 17" transform="translate(-4562.7 -2223.15)">
          <path id="Tracé_6" data-name="Tracé 6" d="M27.2,0h83.725C185.725,0,241.4-41.65,241.4-139.4S185.725-276.25,106.675-276.25H27.2Zm73.1-58.65V-217.6h2.55c35.275,0,63.75,13.6,63.75,78.2s-28.475,80.75-63.75,80.75ZM290.7,0H482.8V-61.2h-119v-49.3h97.75v-61.2H363.8v-43.35H478.55v-61.2H290.7ZM635.8,5.1c71.4,0,110.5-41.65,110.5-88.4,0-38.25-21.25-62.05-58.225-75.65L656.2-172.125c-27.625-10.2-43.35-14.875-43.35-27.625s11.05-18.7,27.2-18.7c26.35,0,42.075,6.8,62.05,19.975l36.55-45.9c-26.775-25.075-61.625-36.975-94.35-36.975-62.9,0-105.4,38.675-105.4,85.85,0,39.95,26.35,65.025,58.225,76.925l34.425,14.45C657.05-93.5,671.5-90.1,671.5-73.95c0,8.925-8.5,16.15-30.6,16.15-25.075,0-49.725-11.05-70.55-26.775L528.7-34.425C559.725-7.65,599.675,5.1,635.8,5.1ZM800.7,0H992.8V-61.2h-119v-49.3h97.75v-61.2H873.8v-43.35H988.55v-61.2H800.7Zm244.8,0h69.7V-79.9c0-34-6.8-73.95-10.2-105.4h1.7l22.525,61.625L1175.55,0h73.95V-276.25h-69.7v79.9c0,34,6.8,75.65,10.2,105.4h-1.7L1165.775-153,1119.45-276.25H1045.5Zm254.15,0h73.1V-109.65h59.5V0h73.1V-276.25h-73.1V-173.4h-59.5V-276.25h-73.1ZM1657.5,5.1c67.15,0,113.05-48.45,113.05-144.5,0-93.5-45.9-141.95-113.05-141.95S1544.45-232.9,1544.45-139.4C1544.45-43.35,1590.35,5.1,1657.5,5.1Zm0-62.9c-23.8,0-38.25-26.35-38.25-81.6,0-52.7,14.45-79.05,38.25-79.05s38.25,26.35,38.25,79.05C1695.75-84.15,1681.3-57.8,1657.5-57.8ZM1910.8,5.1c71.4,0,110.5-41.65,110.5-88.4,0-38.25-21.25-62.05-58.225-75.65L1931.2-172.125c-27.625-10.2-43.35-14.875-43.35-27.625s11.05-18.7,27.2-18.7c26.35,0,42.075,6.8,62.05,19.975l36.55-45.9c-26.775-25.075-61.625-36.975-94.35-36.975-62.9,0-105.4,38.675-105.4,85.85,0,39.95,26.35,65.025,58.225,76.925l34.425,14.45C1932.05-93.5,1946.5-90.1,1946.5-73.95c0,8.925-8.5,16.15-30.6,16.15-25.075,0-49.725-11.05-70.55-26.775l-41.65,50.15C1834.725-7.65,1874.675,5.1,1910.8,5.1Z" transform="translate(4536 2505)" fill="none" stroke="#5959f3" stroke-width="1"/>
          <path id="Tracé_7" data-name="Tracé 7" d="M35.7-98.58H174.373v-44.179h-85.9v-35.589h70.564v-44.179H88.469V-253.82H171.3V-298H35.7Zm187.761,0H361.213v-44.179H276.23V-298H223.461Zm180.4,0H542.531v-44.179h-85.9v-35.589h70.564v-44.179H456.628V-253.82h82.836V-298h-135.6Zm223.963,0H680.59V-253.82h57.371V-298H570.45v44.179h57.371Zm136.219,0h52.769v-66.882H835.83L870.192-98.58H929.1l-43.259-77.313c19.328-10.431,32.214-29.146,32.214-57.678,0-49.7-36.816-64.428-79.768-64.428H764.04Zm52.769-108.607v-49.088H834.6c20.862,0,31.907,5.522,31.907,22.7s-11.045,26.385-31.907,26.385ZM1022.364-94.9c48.474,0,81.608-34.975,81.608-104.311,0-67.5-33.134-102.471-81.608-102.471s-81.608,34.975-81.608,102.471C940.755-129.874,973.89-94.9,1022.364-94.9Zm0-45.406c-17.181,0-27.612-19.021-27.612-58.905,0-38.043,10.431-57.065,27.612-57.065s27.612,19.022,27.612,57.065C1049.976-159.326,1039.545-140.3,1022.364-140.3ZM990.457-307.2l31.293-24.544h1.227l31.293,24.544,22.7-13.5L1051.2-354.45H993.525L967.754-320.7ZM1132.811-98.58h50.315v-57.678c0-24.544-4.909-53.383-7.363-76.086h1.227l16.26,44.486,33.441,89.278h53.383V-298H1229.76v57.678c0,24.544,4.909,54.61,7.363,76.086H1235.9l-16.26-44.793L1186.194-298h-53.383Zm185.92,0h143.582v-44.179h-45.406V-253.82h45.406V-298H1318.731v44.179h45.406v111.061h-45.406ZM1592.4-94.9c27,0,50.315-9.818,66.882-29.453l-28.839-31.907c-8.59,9.2-19.635,15.954-32.521,15.954-27,0-46.02-20.862-46.02-58.292,0-36.2,19.021-57.678,43.565-57.678,13.5,0,23.317,4.909,32.521,12.886l28.839-32.521c-14.113-13.5-35.589-25.771-61.36-25.771-54,0-97.562,38.043-97.562,104.925C1497.9-128.646,1542.694-94.9,1592.4-94.9Zm166.285,0c48.474,0,81.608-34.975,81.608-104.311,0-67.5-33.134-102.471-81.608-102.471s-81.609,34.975-81.609,102.471C1677.072-129.874,1710.206-94.9,1758.68-94.9Zm0-45.406c-17.181,0-27.612-19.021-27.612-58.905,0-38.043,10.431-57.065,27.612-57.065s27.612,19.022,27.612,57.065C1786.292-159.326,1775.861-140.3,1758.68-140.3ZM1941.532-94.9c51.542,0,79.768-30.066,79.768-63.814,0-27.612-15.34-44.793-42.031-54.61l-23.01-9.511c-19.942-7.363-31.293-10.738-31.293-19.942s7.977-13.5,19.635-13.5c19.021,0,30.373,4.909,44.793,14.42l26.385-33.134a100.226,100.226,0,0,0-68.109-26.691c-45.406,0-76.086,27.919-76.086,61.973,0,28.839,19.022,46.94,42.031,55.531l24.851,10.431c18.408,7.67,28.839,10.124,28.839,21.783,0,6.443-6.136,11.658-22.09,11.658-18.1,0-35.9-7.977-50.928-19.328l-30.066,36.2C1886.615-104.1,1915.454-94.9,1941.532-94.9Z" transform="translate(4536 2894)" fill="none" stroke="#5959f3" stroke-width="1"/>
        </g>
      </svg>
      
</div>-->

<div class="loading" *ngIf="!nodes || !edges">carregando rizoma...</div>
  
<div *ngIf="visNetworkData">
    <div
    class="network-canvas"
    [visNetwork]="visNetwork"
    [visNetworkData]="visNetworkData"
    [visNetworkOptions]="visNetworkOptions"
    (initialized)="networkInitialized()"
    ></div>
</div>

<div *ngIf="detalhe" id="detalhe" [class.show]="detalhe.show" [style.left.px]="detalhe.x" [style.top.px]="detalhe.y" #elDetalhe>
    <div class="info">
        <h3 [innerHTML]="detalhe.label"></h3>
        <p [innerHTML]="detalhe.descricao"></p>
    </div>
    <div class="control">
        <a [routerLink]="[detalhe.type == 'lexia' ? 'lexia/'+detalhe.name : '../'+detalhe.name]" [fragment]="detalhe.fragment" (click)="dismissDetalhe()">abrir</a>
    </div>
</div>